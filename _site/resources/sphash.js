var SPHash={New:function(b){if(window.File&&window.FileReader&&window.FileList&&window.Blob){}else{return null}var a={};a.hashs=Array();a.onfinish=function(c){};a.addSliceHash=function(e,g){a.hashs[g]=e;var f=0;for(var d=0;d<4;d++){if(a.hashs[d]){f++}}if(f==4){a.onfinish(a.hashs.join(";"))}};a.getSliceHash=function(g,i,d,h){var c=new FileReader();c.onload=function(j){if(j.target.readyState==FileReader.DONE){var f=j.target.result;var k=new SparkMD5.ArrayBuffer();k.append(f);a.addSliceHash(k.end(),h)}};var e=g.slice(i,d,"application/experimental");c.readAsArrayBuffer(e)};a.CalcFileHashs=function(d){var e=4096;var c=Math.min(d.size,4096);a.getSliceHash(d,c,Math.min(c+e,d.size),0);c=Math.floor(d.size/3*2);a.getSliceHash(d,c,Math.min(c+e,d.size),1);c=Math.floor(d.size/3);a.getSliceHash(d,c,Math.min(c+e,d.size),2);c=Math.max(0,d.size-8192);a.getSliceHash(d,c,Math.min(c+e,d.size),3)};a.FetchSubList=function(c,d){a.CalcFileHashs(c);a.onfinish=function(f){var e=new XMLHttpRequest();e.open("POST","/api/subapi.php",true);e.onreadystatechange=function(){if(e.readyState==4){if(e.status==200){try{var h=JSON.parse(e.responseText);d(h,c.name,f)}catch(i){d(null,c.name,f)}}}};var g="filehash="+encodeURIComponent(f)+"&pathinfo="+encodeURIComponent(c.name)+"&format=json";e.setRequestHeader("Content-type","application/x-www-form-urlencoded");e.send(g)}};return a}};(function(e){if(typeof exports==="object"){module.exports=e()}else{if(typeof define==="function"&&define.amd){define(e)}else{var f;try{f=window}catch(d){f=self}f.SparkMD5=e()}}}(function(F){var D=function(a,b){return(a+b)&4294967295},u=function(e,b,c,d,f,a){b=D(D(b,e),D(d,a));return D((b<<f)|(b>>>(32-f)),c)},H=function(c,d,a,f,e,g,b){return u((d&a)|((~d)&f),c,d,e,g,b)},x=function(c,d,a,f,e,g,b){return u((d&f)|(a&(~f)),c,d,e,g,b)},C=function(c,d,a,f,e,g,b){return u(d^a^f,c,d,e,g,b)},s=function(c,d,a,f,e,g,b){return u(a^(d|(~f)),c,d,e,g,b)},E=function(e,c){var d=e[0],f=e[1],a=e[2],b=e[3];d=H(d,f,a,b,c[0],7,-680876936);b=H(b,d,f,a,c[1],12,-389564586);a=H(a,b,d,f,c[2],17,606105819);f=H(f,a,b,d,c[3],22,-1044525330);d=H(d,f,a,b,c[4],7,-176418897);b=H(b,d,f,a,c[5],12,1200080426);a=H(a,b,d,f,c[6],17,-1473231341);f=H(f,a,b,d,c[7],22,-45705983);d=H(d,f,a,b,c[8],7,1770035416);b=H(b,d,f,a,c[9],12,-1958414417);a=H(a,b,d,f,c[10],17,-42063);f=H(f,a,b,d,c[11],22,-1990404162);d=H(d,f,a,b,c[12],7,1804603682);b=H(b,d,f,a,c[13],12,-40341101);a=H(a,b,d,f,c[14],17,-1502002290);f=H(f,a,b,d,c[15],22,1236535329);d=x(d,f,a,b,c[1],5,-165796510);b=x(b,d,f,a,c[6],9,-1069501632);a=x(a,b,d,f,c[11],14,643717713);f=x(f,a,b,d,c[0],20,-373897302);d=x(d,f,a,b,c[5],5,-701558691);b=x(b,d,f,a,c[10],9,38016083);a=x(a,b,d,f,c[15],14,-660478335);f=x(f,a,b,d,c[4],20,-405537848);d=x(d,f,a,b,c[9],5,568446438);b=x(b,d,f,a,c[14],9,-1019803690);a=x(a,b,d,f,c[3],14,-187363961);f=x(f,a,b,d,c[8],20,1163531501);d=x(d,f,a,b,c[13],5,-1444681467);b=x(b,d,f,a,c[2],9,-51403784);a=x(a,b,d,f,c[7],14,1735328473);f=x(f,a,b,d,c[12],20,-1926607734);d=C(d,f,a,b,c[5],4,-378558);b=C(b,d,f,a,c[8],11,-2022574463);a=C(a,b,d,f,c[11],16,1839030562);f=C(f,a,b,d,c[14],23,-35309556);d=C(d,f,a,b,c[1],4,-1530992060);b=C(b,d,f,a,c[4],11,1272893353);a=C(a,b,d,f,c[7],16,-155497632);f=C(f,a,b,d,c[10],23,-1094730640);d=C(d,f,a,b,c[13],4,681279174);b=C(b,d,f,a,c[0],11,-358537222);a=C(a,b,d,f,c[3],16,-722521979);f=C(f,a,b,d,c[6],23,76029189);d=C(d,f,a,b,c[9],4,-640364487);b=C(b,d,f,a,c[12],11,-421815835);a=C(a,b,d,f,c[15],16,530742520);f=C(f,a,b,d,c[2],23,-995338651);d=s(d,f,a,b,c[0],6,-198630844);b=s(b,d,f,a,c[7],10,1126891415);a=s(a,b,d,f,c[14],15,-1416354905);f=s(f,a,b,d,c[5],21,-57434055);d=s(d,f,a,b,c[12],6,1700485571);b=s(b,d,f,a,c[3],10,-1894986606);a=s(a,b,d,f,c[10],15,-1051523);f=s(f,a,b,d,c[1],21,-2054922799);d=s(d,f,a,b,c[8],6,1873313359);b=s(b,d,f,a,c[15],10,-30611744);a=s(a,b,d,f,c[6],15,-1560198380);f=s(f,a,b,d,c[13],21,1309151649);d=s(d,f,a,b,c[4],6,-145523070);b=s(b,d,f,a,c[11],10,-1120210379);a=s(a,b,d,f,c[2],15,718787259);f=s(f,a,b,d,c[9],21,-343485551);e[0]=D(d,e[0]);e[1]=D(f,e[1]);e[2]=D(a,e[2]);e[3]=D(b,e[3])},r=function(b){var a=[],c;for(c=0;c<64;c+=4){a[c>>2]=b.charCodeAt(c)+(b.charCodeAt(c+1)<<8)+(b.charCodeAt(c+2)<<16)+(b.charCodeAt(c+3)<<24)}return a},v=function(c){var a=[],b;for(b=0;b<64;b+=4){a[b>>2]=c[b]+(c[b+1]<<8)+(c[b+2]<<16)+(c[b+3]<<24)}return a},w=function(b){var h=b.length,a=[1732584193,-271733879,-1732584194,271733878],f,i,c,e,d,g;for(f=64;f<=h;f+=64){E(a,r(b.substring(f-64,f)))}b=b.substring(f-64);i=b.length;c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(f=0;f<i;f+=1){c[f>>2]|=b.charCodeAt(f)<<((f%4)<<3)}c[f>>2]|=128<<((f%4)<<3);if(f>55){E(a,c);for(f=0;f<16;f+=1){c[f]=0}}e=h*8;e=e.toString(16).match(/(.*?)(.{0,8})$/);d=parseInt(e[2],16);g=parseInt(e[1],16)||0;c[14]=d;c[15]=g;E(a,c);return a},t=function(b){var h=b.length,a=[1732584193,-271733879,-1732584194,271733878],f,i,c,e,d,g;for(f=64;f<=h;f+=64){E(a,v(b.subarray(f-64,f)))}b=(f-64)<h?b.subarray(f-64):new Uint8Array(0);i=b.length;c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(f=0;f<i;f+=1){c[f>>2]|=b[f]<<((f%4)<<3)}c[f>>2]|=128<<((f%4)<<3);if(f>55){E(a,c);for(f=0;f<16;f+=1){c[f]=0}}e=h*8;e=e.toString(16).match(/(.*?)(.{0,8})$/);d=parseInt(e[2],16);g=parseInt(e[1],16)||0;c[14]=d;c[15]=g;E(a,c);return a},y=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],A=function(a){var b="",c;for(c=0;c<4;c+=1){b+=y[(a>>(c*8+4))&15]+y[(a>>(c*8))&15]}return b},G=function(b){var a;for(a=0;a<b.length;a+=1){b[a]=A(b[a])}return b.join("")},z=function(a){return G(w(a))},B=function(){this.reset()};if(z("hello")!=="5d41402abc4b2a76b9719d911017c592"){D=function(d,a){var b=(d&65535)+(a&65535),c=(d>>16)+(a>>16)+(b>>16);return(c<<16)|(b&65535)}}B.prototype.append=function(a){if(/[\u0080-\uFFFF]/.test(a)){a=unescape(encodeURIComponent(a))}this.appendBinary(a);return this};B.prototype.appendBinary=function(a){this._buff+=a;this._length+=a.length;var b=this._buff.length,c;for(c=64;c<=b;c+=64){E(this._state,r(this._buff.substring(c-64,c)))}this._buff=this._buff.substr(c-64);return this};B.prototype.end=function(d){var a=this._buff,b=a.length,c,e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],f;for(c=0;c<b;c+=1){e[c>>2]|=a.charCodeAt(c)<<((c%4)<<3)}this._finish(e,b);f=!!d?this._state:G(this._state);this.reset();return f};B.prototype._finish=function(e,a){var c=a,d,b,f;e[c>>2]|=128<<((c%4)<<3);if(c>55){E(this._state,e);for(c=0;c<16;c+=1){e[c]=0}}d=this._length*8;d=d.toString(16).match(/(.*?)(.{0,8})$/);b=parseInt(d[2],16);f=parseInt(d[1],16)||0;e[14]=b;e[15]=f;E(this._state,e)};B.prototype.reset=function(){this._buff="";this._length=0;this._state=[1732584193,-271733879,-1732584194,271733878];return this};B.prototype.destroy=function(){delete this._state;delete this._buff;delete this._length};B.hash=function(a,c){if(/[\u0080-\uFFFF]/.test(a)){a=unescape(encodeURIComponent(a))}var b=w(a);return !!c?b:G(b)};B.hashBinary=function(b,c){var a=w(b);return !!c?a:G(a)};B.ArrayBuffer=function(){this.reset()};B.ArrayBuffer.prototype.append=function(d){var a=this._concatArrayBuffer(this._buff,d),b=a.length,c;this._length+=d.byteLength;for(c=64;c<=b;c+=64){E(this._state,v(a.subarray(c-64,c)))}this._buff=(c-64)<b?a.subarray(c-64):new Uint8Array(0);return this};B.ArrayBuffer.prototype.end=function(d){var a=this._buff,b=a.length,e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],c,f;for(c=0;c<b;c+=1){e[c>>2]|=a[c]<<((c%4)<<3)}this._finish(e,b);f=!!d?this._state:G(this._state);this.reset();return f};B.ArrayBuffer.prototype._finish=B.prototype._finish;B.ArrayBuffer.prototype.reset=function(){this._buff=new Uint8Array(0);this._length=0;this._state=[1732584193,-271733879,-1732584194,271733878];return this};B.ArrayBuffer.prototype.destroy=B.prototype.destroy;B.ArrayBuffer.prototype._concatArrayBuffer=function(a,c){var b=a.length,d=new Uint8Array(b+c.byteLength);d.set(a);d.set(new Uint8Array(c),b);return d};B.ArrayBuffer.hash=function(c,b){var a=t(new Uint8Array(c));return !!b?a:G(a)};return B}));